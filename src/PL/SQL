块(Block)是进行PL/SQL程序开发时最基本的单位，所有的PL/SQL程序都是由块组成的。块又可分为如下两灰
匿名块:没有名称的PL/SQL块，可以内嵌到应用程序中或者在TOad或SQLPlus中直接运行的块，这种块通常由客户端程序产生 ，用来调用服务器上的子程序，这种块不会保存数据库中。
命名块:具有名称的PL/SQL块，又可细分为3个部分，这种类型的块一般保存在服务器端的数据库中以备调用

PL/SQL命名块分为以下三个部分
使用<<块名称>>进行标识的块，通常是在块嵌套时，为了区分多级嵌套层次关系而使用命名加以区分
由函数或过程组成的子程序块，这种块保存在数据库中
数据库触发器块，触发器块是将当数据库中的某个事件触发后要执行的PL/SQL语句块。

1.PL/SQL块的组成
无论是命名块还是匿名块都由3个部分组成
定义部分:定义常量、变量、游标、异常及复杂数据类型等等。
执行部分:包含了要执行的PL/SQL语句和SQL语句，用于实现应用模块的功能。
异常处理部分:用于捕捉执行部分可能出现的运行错误，并编写出错后的代码，

NULl语句是一个可执行语句，表示的意思是什么也不做，相当于一个不执行任何操作的占位符

变量是一块用来存储数据的内存区域，定义在PL/SQL块的DECLARE区域，在定义变量时通常需要为变量指定一个数据类型，也可以在定义变量时为变量指定一个初始值
变量的类型可以是任何SQL数据类型或者是PL/SQL本身特定的数据类型，在PL?SQL中，可以定义4种类型的变量
标题变量:指能存放单个数值的变量 ，这是PL/SQL最常用的变量，标题变量的数据类型包含数字，字符，日期和布尔类型，比如VARCHAR2、CHAR、NUMBER、DATE等类型
复合变量:指用于存放多个值的变量，必须要使用PL/SQL复合数据类型来定义变量，比如PL/SQL记录，PL/SQL表，嵌套表及VARRAY等类型
参照变量:指用于存放数值指针的变量，比如PL/SQL游标变量和对象变量
LOB变量:指用于存放大批量数据的变量

过程、函数与包都属于PL/SQL语句块中的命名块，过程和函数统称为子程序。过程和函数非常相似，具有如下特点.
1)都具有名称，可以接收传入或传出参数
2)都具有声明部分、执行部分和异常处理部分
3)在使用前会编译并存储到数据库中，可以使用Toad或Oracle SQL Developer来查看数据库中已经存在的过程和函数。

函数和过程不同在于函数具有返回值，而过程没有


与包或其他子程序不同的是，触发器不能被显式地调用，而是在数据库事件发生时隐式地运行的，并且触发器不能接收参数，触发器是在某些特定的事件发生时被隐式执行的，比如在修改表、建立对象、登录数据库、操作有数据时被执行。
触发器语句块被执行称为事件触发，而触发的事件可以是对数据库有的DMl操作或者是对视图的操作，Oracle还支持系统事件的触发 。

集合与记录
集合与记录都属于PL/SQL的复合类型，集合允许将类型相同的多个变量当作 一个整体进行处理，类似于java或C语言中的数组，记录允许将多个不同类型的变量当作 一个整体进行处理，通过记录与集合类型，可以一次性处理多个数据，而不用一个数据一个数据地进行了处理，提升了程序的性能，减轻了开发人员的工作量。
1.记录类型的变量类似于数据库中的一条记录，一个记录类型可以包含多个简单类型的值或复杂类型的值。

集合类型
记录类型允许同时处理单行多列数据，PL/SQL集合允许同时处理多行单列的数据。集合类似于数组,PL/SQL提供了如下 3种集合类型.
关联表:又称索引表，类似于高级语言中的数组，但是数组下标可以为负值，元素个数无限制，并且下标可以为字符类型
嵌套表:嵌套表也是一种类似数组的数据类型，嵌套表下标从1开始，对元素个数没有限制。嵌套表与索引表的一个最大的区别 是嵌套表的类型可以作为表列的数据类型使用，而索引表不可以，而且嵌套表在使用前必须要使用构造函数进行初始人。
变长数组:与嵌套表一样，也可以作为表列的数据类型使用，下标从1开始，变长数组的元素个数是有最大值限制的，在使用前必须先使用构造方法进行初始化。
每种类型的表都有自己处理数据的优势，在介绍集合和记录时。


Oracle的游标是一个指向上下文区域的指针，这个上下文区域是PL/SQL语句块中执行SELECT语句或DML数据操纵语句时分配的，比如使用SELECT语句查询返回多行的数据时，可以通过游标来指向结果集中的每一行，使用循环语句依次对每一行进行处理。
游标又可分为如下两种。
隐式游标:由PL/SQL自动为DML语句或SELECT-INTO语句分配的游标，包括只返回一条记录的查询操作。
显式游标:在PL/SQL块的声明区域中显示定义的，用来处理返回多行记录查询的游标。
可以使用OPEN、FETCH和CLOSE语句来控制游标，OPEN语句用来打开游标并使得游标指向结果集的第1行，Fetch会检索当前行的信息并把游标指向下一行。CLOSE语句用来在游标移到最后一行后关闭游标，游标的。通过OPEN,FETCH,CLOSE来提取游标数据并显示到屏幕上。

PL/SQL是使用早期绑定来执行SQL语句的，早期绑定要求所要处理的数据库对象必须存在 并且是已知的，比如要查询员工表中的员工名称，必须存在员工表，必须知道员工名的字段名称 ，同时具有相关的执行权限，并且使用这种SQl可以进行性能的调优，这种SQL称为静态SQL‘



在Oracle11g中，LONG和LONG RAW数据类型仅是为了保证向后兼容性。对于Long类型，可以使用VARCHAR（327660),BLOB,CLOB或NCLOB来代替，对于 lONG RAW，可以使用BLOB来代替，LONG和LONG RAW说明如下
LONG类型和VARCHAR2非常相似，但是LONG类型的最大长度是32760字节，比VARCHAR2少了7个字节
LONG RAW类型用来存储二进制数据和字节字符串，lONG RAW数据和LONG数据相似，最大字节数也为32760
ORACLE数据库同样提供了LONG和LONG RAW列类型，与PL/SQL不同的是，这两个类型的最大存储数量是2GB，因此可以在PL/SQL中将任何值插入lONG或 lONG RAW类型的数据列中
在SQL语句中，PL/SQL将LONG类型的值当作VARCHAR2进行处理而不是LONG类型，如果长度超过VARCHAR2允许的最大长度即4000字节时，ORACLE会自动 转换成LONG类型
